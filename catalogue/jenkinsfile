pipeline {
    agent {
        label "agent_1"
    }
    options {
        timeout(time:30, unit: 'MINUTES')
        disableConcurrentBuilds()
    }
    stages {
        stage('build') {
            steps {
                script {
                    sh """
                        echo "Hello Build"
                        sleep 10
                    """
                }
                
            }
        }
        stage('test') {
            steps {
                script {

                    sh """
                        echo "Hello pipeline testing"
                    """
                }
            }
        }
        stage('Read JSON') {
            steps {
                script {
                    
                    // Read the JSON file
                    def config = readJSON file: 'catalogue/package.json'

                    // Access data from the parsed JSON object
                    echo "Project Name: ${config.name}"
                    appVersion: ${config.version}
                    echo "Project description: ${config.description}"
                }
            }
        }
    }
}